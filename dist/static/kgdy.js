(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{310:function(t,e,s){},328:function(t,e,s){"use strict";var i=s(310);s.n(i).a},330:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("v-table",{staticStyle:{width:"100%"},attrs:{"is-horizontal-resize":"",columns:t.columns,height:t.height,"table-data":t.kskm.vKgst,"row-hover-color":"#eee","row-click-color":"#edf7ff","show-vertical-border":!1,"cell-edit-done":t.cellEditDone},on:{"on-custom-comp":t.customCompFunc}}),t._v(" "),s("div",{staticClass:"footOpt"},[s("van-button",{staticClass:"cjksBtn",attrs:{type:"info"},on:{click:t.saveKsKmst}},[t._v("保存设置")])],1)],1)};i._withStripped=!0;var a=s(278),n=s.n(a),o=s(281),c=s.n(o),r=s(283),l=s(68),d=s(2);d.a.component("tx",{template:"<div class=\"row\" v-if=\"rowData.xxmx !== 'T,F'\">\n            <span class=\"btn\" :class=\"{'active': rowData.tx + '' === '0'}\" @click=\"updateTx('0')\">单选</span>\n            <span class=\"btn\" :class=\"{'active': rowData.tx + '' !== '0'}\" @click=\"updateTx('1')\">多选</span>\n            </div>\n            <span v-else>单选</span>",props:{rowData:{type:Object},index:{type:Number}},methods:{updateTx:function(t){this.rowData.tx=t,this.rowData.da="",this.$emit("on-custom-comp",{type:"tx",value:t,index:this.index})}}}),d.a.component("da",{template:'<div class="row">\n              <span \n              v-for="xx in rowData.xxmx.split(\',\')"\n              class="btn" :class="{\'active\': rowData.da && ~rowData.da.indexOf(xx)}"\n              @click="updateDa(xx)">\n                {{xx}}\n              </span>\n            </div>',props:{rowData:{type:Object},index:{type:Number}},methods:{updateDa:function(t){if(this.rowData.tx+""=="0")this.rowData.da=t;else if(this.rowData.da)if(~this.rowData.da.indexOf(t)){var e=new RegExp(t,"g");this.rowData.da=this.rowData.da.replace(e,"")}else{var s=this.rowData.da.split("");s.push(t),s.sort(),this.rowData.da=s.join("")}else this.rowData.da=t;this.$emit("on-custom-comp",{type:"da",value:this.rowData.da,index:this.index})}}});var h={components:{VTable:r.VTable},data:function(){return{columns:[],height:300}},computed:c()({},Object(l.b)(["currentKs","kskm"])),created:function(){this.height=innerHeight-110},activated:function(){this.columns=[{field:"sthms",title:"题号",titleAlign:"center",columnAlign:"center",isResize:!0,width:38},{field:"tx",title:"题型",titleAlign:"center",columnAlign:"center",isResize:!0,width:80,componentName:"tx"},{field:"da",title:"答案",titleAlign:"center",columnAlign:"center",isResize:!0,width:80,componentName:"da"},{field:"fs",title:"满分值",titleAlign:"center",columnAlign:"center",width:60,isEdit:!0}],this.updateColsWidth()},methods:{cellEditDone:function(t,e,s,i,a){i.fs=t,this.kskm.vKgst[s].fs=t},customCompFunc:function(t){try{this.kskm.vKgst[t.index][t.type]=t.value,"tx"===t.type&&(this.kskm.vKgst[t.index].da="")}catch(t){}},getKskm:function(){var t=this;return this.$http("kmdy/getKskm.jsmeb",{data:[this.currentKs.testh,this.currentKs.kmh]}).then((function(e){return e=e||{},t.$store.dispatch("SETKSKM",e.result||{}),t.updateColsWidth(),e}))},update:function(){this.getKskm()},saveKsKmst:function(){var t=this;return this.$http("kmdy/saveKs_kmst.jsmeb",{data:[this.kskm,!0]}).then((function(e){return e&&e.result&&(t.$store.dispatch("SETKSKM",t.kskm||{}),t.$toast("保存成功")),e}))},updateColsWidth:function(){var t=0,e=!0,s=!1,i=void 0;try{for(var a,o=n()(this.kskm.vKgst);!(e=(a=o.next()).done);e=!0){var c=a.value.xxmx.split(",").length;c>t&&(t=c)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}this.columns[2].width=38*t}}},u=(s(328),s(9)),p=Object(u.a)(h,i,[],!1,null,"529c7453",null);p.options.__file="src/views/testDetail/kgdy.vue";e.default=p.exports}}]);
//# sourceMappingURL=kgdy.js.map?v=0.18796360809065904