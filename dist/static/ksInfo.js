(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{286:function(t,e,n){"use strict";var s=n(278),r=n.n(s),a=n(67),i=n.n(a),l=n(49),o=n.n(l);e.a={methods:{getDates:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t)return[];for(var n=t.match(/\d+-\d+-(\d+).*/)[1],s=this.os.isIOS?t.replace(/-/g,"/"):t,r=[],a=0;a<e;a++){var i=new Date(s);i.setDate(1*n-e+a);var l=i.getFullYear(),o=i.getMonth()+1,u=i.getDate(),c=l+"-"+(o>9?o:"0"+o)+"-"+(u>9?u:"0"+u),h=(o>9?o:"0"+o)+"-"+(u>9?u:"0"+u);r.push({full:c,simple:h})}return r},formatTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments[1],n=t.getFullYear(),s=t.getMonth()+1,r=t.getDate(),a=t.getHours(),i=t.getMinutes(),l=t.getSeconds(),o=[n,s,r].map(this.formatNumber).join("-"),u=[a,i,l].map(this.formatNumber).join(":");return"date"===e?""+o:o+" "+u},formatNumber:function(t){var e=t.toString();return e[1]?e:"0"+e},getKsLx:function(){var t=this;return this.$store.state.ksLx.length>0?o.a.resolve(this.$store.state.ksLx):this.$http("cache/getKslx.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETKSLX",e.result),e.result}))},getUserInfo:function(){var t=this;return i()(this.$store.state.userInfo).length?o.a.resolve(this.$store.state.userInfo):this.$http("h5pj/getCurrUser.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETUSERINFO",e.result||{}),e.result||{}}))},getJs:function(){var t=this;return i()(this.$store.state.jsInfo).length?o.a.resolve(this.$store.state.jsInfo):this.$http("yhxx/getJs.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETJSINFO",e.result||{}),e.result||{}}))},getXq:function(){var t=this;return i()(this.$store.state.xq).length?o.a.resolve(this.$store.state.xq):this.$http("cache/getCurrentXq.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETXQ",e.result||{}),e.result||{}}))},getPjlc:function(){var t=this;return this.$store.state.pjlc.length>0?o.a.resolve(this.$store.state.pjlc):this.$http("cache/getPjlc.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETPJLC",e.result),e.result}))},getKsty:function(){var t=this;return this.$store.state.ksty.length>0?o.a.resolve(this.$store.state.ksty):this.$http("cache/getKsty.jsmeb",{}).then((function(e){if(e&&e.result){var n={},s=!0,a=!1,i=void 0;try{for(var l,o=r()(e.result);!(s=(l=o.next()).done);s=!0){var u=l.value;n[u.key]=u.mc}}catch(t){a=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}return t.$store.dispatch("SETKSTY",n),n}}))}}}},305:function(t,e,n){},323:function(t,e,n){"use strict";var s=n(305);n.n(s).a},336:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("van-cell-group",[t.$parent.mc?n("van-cell",{staticStyle:{"border-bottom":"15px solid #efefef"},attrs:{title:"考试名称",size:"large"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.mc,expression:"$parent.mc"}],staticClass:"cellInput",attrs:{slot:"label",type:"text",placeholder:"在输入考试名称"},domProps:{value:t.$parent.mc},on:{input:function(e){e.target.composing||t.$set(t.$parent,"mc",e.target.value)}},slot:"label"})]):n("van-cell",{staticStyle:{"border-bottom":"15px solid #efefef"},attrs:{title:"",size:"large"},on:{click:function(e){return t.$router.push({name:"ksLxList"})}}},[n("input",{staticClass:"cellInput",attrs:{slot:"label",type:"text",placeholder:"",value:"点击开始创建当前学期考试",disabled:""},slot:"label"})]),t._v(" "),n("van-cell",{attrs:{title:"考试类型","is-link":"",size:"large"},on:{click:function(e){return t.$router.push({name:"ksLxList"})}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.lx,expression:"lx"}],staticClass:"cellInput",attrs:{slot:"label",type:"text",placeholder:"请选择考试类型",disabled:""},domProps:{value:t.lx},on:{input:function(e){e.target.composing||(t.lx=e.target.value)}},slot:"label"})]),t._v(" "),n("van-cell",{attrs:{title:"年级/班级","is-link":"",size:"large"},on:{click:function(e){return t.$router.push({name:"ksNjList"})}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bj,expression:"bj"}],staticClass:"cellInput",attrs:{slot:"label",type:"text",placeholder:"请选择年级/班级",disabled:""},domProps:{value:t.bj},on:{input:function(e){e.target.composing||(t.bj=e.target.value)}},slot:"label"})]),t._v(" "),n("van-cell",{attrs:{title:"科类","is-link":"",size:"large"},on:{click:function(e){return t.$router.push({name:"ksKmList"})}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.km,expression:"km"}],staticClass:"cellInput",attrs:{slot:"label",type:"text",placeholder:"请选择科类",disabled:""},domProps:{value:t.km},on:{input:function(e){e.target.composing||(t.km=e.target.value)}},slot:"label"})])],1),t._v(" "),n("div",{staticClass:"footOpt"},[n("van-button",{staticClass:"cjksBtn",attrs:{type:"info",disabled:0===t.$parent.km.length||0===t.$parent.mc.length||0===t.$parent.lx.length||0===t.$parent.bj.length||!t.$parent.njh},on:{click:t.create}},[t._v("完成创建")])],1)],1)};s._withStripped=!0;var r=n(279),a=n.n(r),i=n(280),l=n.n(i),o={mixins:[n(286).a],data:function(){return{}},components:{},computed:{lx:function(){return this.$parent.lx.map((function(t){return t.mc})).join(",")},km:function(){return this.$parent.km.map((function(t){return t.mc})).join(",")},bj:function(){return this.$parent.njh&&this.$parent.njh.mc&&this.$parent.bj.length>0?(this.$parent.njh.mc||"")+" / "+this.$parent.bj.map((function(t){return t.mc})).join(","):""}},mounted:function(){var t=this;return l()(a.a.mark((function e(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),e,t)})))()},methods:{create:function(){var t=this;this.$http("ks/addKs.jsmeb",{data:[{testh:"",xqh:this.$parent.xq.xqh,mc:this.$parent.mc,jc:this.$parent.mc,jb:"",lx:this.$parent.lx[0].key,kl:""},this.$parent.km.map((function(t){return{kmh:t.kmh}})),[{njid:this.$parent.njh.njid,vNjbj:this.$parent.bj.map((function(t){return{njid:t.njid,bjid:t.bjid}}))}]]}).then((function(e){e&&e.result&&(t.$notify({type:"primary",message:"创建考试成功"}),t.$router.push({name:"ksList",params:{upDate:!0}}))}))}}},u=(n(323),n(9)),c=Object(u.a)(o,s,[],!1,null,"0a905377",null);c.options.__file="src/views/createKs/ksInfo.vue";e.default=c.exports}}]);
//# sourceMappingURL=ksInfo.js.map?v=0.18796360809065904