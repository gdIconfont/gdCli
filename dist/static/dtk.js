(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{285:function(t,e,n){},286:function(t,e,n){"use strict";var s=n(278),r=n.n(s),i=n(67),a=n.n(i),o=n(49),c=n.n(o);e.a={methods:{getDates:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t)return[];for(var n=t.match(/\d+-\d+-(\d+).*/)[1],s=this.os.isIOS?t.replace(/-/g,"/"):t,r=[],i=0;i<e;i++){var a=new Date(s);a.setDate(1*n-e+i);var o=a.getFullYear(),c=a.getMonth()+1,u=a.getDate(),l=o+"-"+(c>9?c:"0"+c)+"-"+(u>9?u:"0"+u),h=(c>9?c:"0"+c)+"-"+(u>9?u:"0"+u);r.push({full:l,simple:h})}return r},formatTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments[1],n=t.getFullYear(),s=t.getMonth()+1,r=t.getDate(),i=t.getHours(),a=t.getMinutes(),o=t.getSeconds(),c=[n,s,r].map(this.formatNumber).join("-"),u=[i,a,o].map(this.formatNumber).join(":");return"date"===e?""+c:c+" "+u},formatNumber:function(t){var e=t.toString();return e[1]?e:"0"+e},getKsLx:function(){var t=this;return this.$store.state.ksLx.length>0?c.a.resolve(this.$store.state.ksLx):this.$http("cache/getKslx.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETKSLX",e.result),e.result}))},getUserInfo:function(){var t=this;return a()(this.$store.state.userInfo).length?c.a.resolve(this.$store.state.userInfo):this.$http("h5pj/getCurrUser.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETUSERINFO",e.result||{}),e.result||{}}))},getJs:function(){var t=this;return a()(this.$store.state.jsInfo).length?c.a.resolve(this.$store.state.jsInfo):this.$http("yhxx/getJs.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETJSINFO",e.result||{}),e.result||{}}))},getXq:function(){var t=this;return a()(this.$store.state.xq).length?c.a.resolve(this.$store.state.xq):this.$http("cache/getCurrentXq.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETXQ",e.result||{}),e.result||{}}))},getPjlc:function(){var t=this;return this.$store.state.pjlc.length>0?c.a.resolve(this.$store.state.pjlc):this.$http("cache/getPjlc.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETPJLC",e.result),e.result}))},getKsty:function(){var t=this;return this.$store.state.ksty.length>0?c.a.resolve(this.$store.state.ksty):this.$http("cache/getKsty.jsmeb",{}).then((function(e){if(e&&e.result){var n={},s=!0,i=!1,a=void 0;try{for(var o,c=r()(e.result);!(s=(o=c.next()).done);s=!0){var u=o.value;n[u.key]=u.mc}}catch(t){i=!0,a=t}finally{try{!s&&c.return&&c.return()}finally{if(i)throw a}}return t.$store.dispatch("SETKSTY",n),n}}))}}}},287:function(t,e,n){"use strict";var s=n(285);n.n(s).a},288:function(t,e,n){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nodata"},[e("div",{staticClass:"ndpic"},[e("img",{attrs:{src:this.imgSrc,width:"100%"}})]),this._v(" "),e("p",{staticClass:"f-tac nodatatxt f-fs2"},[this._v(this._s(this.warntxt))])])};s._withStripped=!0;var r={name:"nodata",props:{warntxt:{type:String,default:"暂无数据"}},data:function(){return{imgSrc:"static/image/nodata.png"}}},i=(n(287),n(9)),a=Object(i.a)(r,s,[],!1,null,"210a917b",null);a.options.__file="src/components/nodata.vue";e.a=a.exports},289:function(t,e,n){"use strict";var s=n(290),r=n.n(s);e.default=r.a},290:function(t,e){},291:function(t,e,n){},292:function(t,e,n){"use strict";var s=n(311),r=n(289),i=(n(293),n(9)),a=Object(i.a)(r.default,s.a,s.b,!1,null,"5c8289c0",null);a.options.__file="src/components/card.vue",e.default=a.exports},293:function(t,e,n){"use strict";var s=n(291);n.n(s).a},299:function(t,e,n){},300:function(t,e,n){},301:function(t,e,n){},311:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[this._t("content")],2),this._v(" "),e("div",{staticClass:"card-footer"},[this._t("footer")],2)])},r=[];s._withStripped=!0},317:function(t,e,n){"use strict";var s=n(299);n.n(s).a},318:function(t,e,n){"use strict";var s=n(300);n.n(s).a},319:function(t,e,n){"use strict";var s=n(301);n.n(s).a},329:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page"},[e(this.component,{tag:"component",attrs:{dtk:this.dtkData}})],1)};s._withStripped=!0;var r=n(281),i=n.n(r),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"createDtk",on:{click:function(e){return t.editDtk("")}}},[n("i",{staticClass:"iconfont icongrid"}),t._v("\n    创建空白答题卡\n    "),n("i",{staticClass:"iconfont iconarrow-right-copy"})]),t._v(" "),n("section",[n("p",{staticClass:"title"},[t._v("最近创建")]),t._v(" "),t.newDtk.length?n("ul",t._l(t.newDtk,(function(e){return n("li",{on:{click:function(n){return t.editDtk({type:"old_testh",value:e.testh})}}},[n("p",{staticClass:"dtkName"},[t._v(t._s(e.mc))]),t._v(" "),t._l(e.txjg,(function(e){return n("p",[n("span",[t._v(t._s(e.mc))]),t._v(" "),n("span",[t._v(t._s(e.stNum)+"题")])])}))],2)})),0):n("nodata")],1),t._v(" "),n("section",[n("p",{staticClass:"title"},[t._v("从模板创建")]),t._v(" "),t.mbDtk.length?n("ul",t._l(t.mbDtk,(function(e){return n("li",{on:{click:function(n){return t.editDtk({type:"dtkid",value:e.dtkid})}}},[n("p",{staticClass:"dtkName"},[t._v(t._s(e.mc))]),t._v(" "),t._l(e.txjg,(function(e){return n("p",[n("span",[t._v(t._s(e.mc))]),t._v(" "),n("span",[t._v(t._s(e.stNum)+"题")])])}))],2)})),0):n("nodata")],1)])};a._withStripped=!0;var o=n(278),c=n.n(o),u=n(279),l=n.n(u),h=n(280),d=n.n(h),f=n(286),v=n(288),p={mixins:[f.a],props:{dtk:{type:Object,default:function(){return{}}}},components:{nodata:v.a},data:function(){return{newDtk:[],mbDtk:[]}},created:function(){this.getDocDtk_kskm(),this.getDocDtkKmTemplate()},watch:{dtk:function(){this.getDocDtk_kskm(),this.getDocDtkKmTemplate()}},methods:{editDtk:function(t){var e=this;return d()(l.a.mark((function n(){var s,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getUserInfo();case 2:s=n.sent,r=["testh="+e.dtk.testh,"kmh="+e.dtk.kmh,"mobile=1","token="+s.token],t&&r.push(t.type+"="+t.value),location.href=window.config.dtkUrl+"?"+r.join("&");case 6:case"end":return n.stop()}}),n,e)})))()},getDocDtk_kskm:function(){var t=this;this.$http("kmdy/getDocDtk_kskm.jsmeb",{data:[this.dtk.kmh]}).then((function(e){if(e){t.newDtk=(e.result||[]).slice(0,4);var n=!0,s=!1,r=void 0;try{for(var i,a=c()(t.newDtk);!(n=(i=a.next()).done);n=!0){var o=i.value;if(o.txjg)try{o.txjg=JSON.parse(o.txjg)}catch(t){o.txjg=[]}else o.txjg=[]}}catch(t){s=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(s)throw r}}}}))},getDocDtkKmTemplate:function(){var t=this;this.$http("kmdy/getDocDtkKmTemplate.jsmeb",{data:[this.dtk.kmh]}).then((function(e){if(e){t.mbDtk=e.result||[];var n=!0,s=!1,r=void 0;try{for(var i,a=c()(t.mbDtk);!(n=(i=a.next()).done);n=!0){var o=i.value;if(o.txjg)try{o.txjg=JSON.parse(o.txjg)}catch(t){o.txjg=[]}else o.txjg=[]}}catch(t){s=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(s)throw r}}}}))}}},k=(n(317),n(9)),m=Object(k.a)(p,a,[],!1,null,"0041aa12",null);m.options.__file="src/components/dtk/emptyDtk.vue";var _=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("card",{scopedSlots:t._u([{key:"content",fn:function(){return[n("p",{staticClass:"title"},[n("i",{staticClass:"iconfont iconwenben"}),t._v("答题卡设计")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"strong"},[t._v("科目满分："+t._s(t.dtk.zf)+"分")]),t._v(" "),n("div",{staticClass:"simple"},[t._v("答题卡共 "+t._s(t.dtk.dtkzs)+" 张 "+t._s(t.dtk.dtkms)+" 面")])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"strong"},[t._v("客观题："+t._s(t.dtk.kgf)+"分")]),t._v(" "),n("div",{staticClass:"simple"},[t._v("单选："+t._s(t.dtk.singleLen)+" 题    多选："+t._s(t.dtk.multiLen)+"题")])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"strong"},[t._v("主观题："+t._s(t.dtk.zgf)+"分")]),t._v(" "),n("div",{staticClass:"simple"},[t._v("小题： "+t._s(t.dtk.vPjtz.length)+"题")])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"row btn-wrap"},[n("button",{staticClass:"btn",on:{click:t.editDtk}},[t._v("设计答题卡")]),t._v(" "),n("router-link",{staticClass:"btn",attrs:{tag:"button",to:{name:"kgdy"},replace:""}},[t._v("编辑客观题")])],1)]},proxy:!0}])})],1)};g._withStripped=!0;var D=n(292),w={mixins:[f.a],props:{dtk:{type:Object,default:function(){return{}}}},components:{card:D.default},created:function(){this.update()},watch:{dtk:function(){this.update()}},methods:{editDtk:function(){var t=this;return d()(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserInfo();case 2:n=e.sent,location.href=window.config.dtkUrl+"?testh="+t.dtk.testh+"&kmh="+t.dtk.kmh+"&mobile=1&token="+n.token;case 4:case"end":return e.stop()}}),e,t)})))()},update:function(){var t=this.dtk.vKgst.length,e=this.dtk.vKgst.filter((function(t){return 1*t.tx==1}));this.dtk.multiLen=e.length,this.dtk.singleLen=t-this.dtk.multiLen}}},b=(n(318),Object(k.a)(w,g,[],!1,null,"313a2cbe",null));b.options.__file="src/components/dtk/index.vue";var x=b.exports,j=n(68),y={data:function(){return{testh:"",kmh:"",component:"",dtkData:{}}},activated:function(){this.getKskm()},computed:i()({},Object(j.b)(["currentKs"])),methods:{getKskm:function(){var t=this;return this.$http("kmdy/getKskm.jsmeb",{data:[this.currentKs.testh,this.currentKs.kmh]}).then((function(e){return(e=e||{}).result&&(t.component=e.result.dtkly?x:_),t.dtkData=e.result||{},t.$store.dispatch("SETKSKM",t.dtkData),e}))},update:function(){this.getKskm()}}},$=(n(319),Object(k.a)(y,s,[],!1,null,"91595b2e",null));$.options.__file="src/views/testDetail/dtk.vue";e.default=$.exports}}]);
//# sourceMappingURL=dtk.js.map?v=0.18796360809065904