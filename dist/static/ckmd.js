(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{285:function(t,e,s){},286:function(t,e,s){"use strict";var n=s(278),i=s.n(n),r=s(67),a=s.n(r),o=s(49),h=s.n(o);e.a={methods:{getDates:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t)return[];for(var s=t.match(/\d+-\d+-(\d+).*/)[1],n=this.os.isIOS?t.replace(/-/g,"/"):t,i=[],r=0;r<e;r++){var a=new Date(n);a.setDate(1*s-e+r);var o=a.getFullYear(),h=a.getMonth()+1,u=a.getDate(),c=o+"-"+(h>9?h:"0"+h)+"-"+(u>9?u:"0"+u),l=(h>9?h:"0"+h)+"-"+(u>9?u:"0"+u);i.push({full:c,simple:l})}return i},formatTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments[1],s=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),r=t.getHours(),a=t.getMinutes(),o=t.getSeconds(),h=[s,n,i].map(this.formatNumber).join("-"),u=[r,a,o].map(this.formatNumber).join(":");return"date"===e?""+h:h+" "+u},formatNumber:function(t){var e=t.toString();return e[1]?e:"0"+e},getKsLx:function(){var t=this;return this.$store.state.ksLx.length>0?h.a.resolve(this.$store.state.ksLx):this.$http("cache/getKslx.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETKSLX",e.result),e.result}))},getUserInfo:function(){var t=this;return a()(this.$store.state.userInfo).length?h.a.resolve(this.$store.state.userInfo):this.$http("h5pj/getCurrUser.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETUSERINFO",e.result||{}),e.result||{}}))},getJs:function(){var t=this;return a()(this.$store.state.jsInfo).length?h.a.resolve(this.$store.state.jsInfo):this.$http("yhxx/getJs.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETJSINFO",e.result||{}),e.result||{}}))},getXq:function(){var t=this;return a()(this.$store.state.xq).length?h.a.resolve(this.$store.state.xq):this.$http("cache/getCurrentXq.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETXQ",e.result||{}),e.result||{}}))},getPjlc:function(){var t=this;return this.$store.state.pjlc.length>0?h.a.resolve(this.$store.state.pjlc):this.$http("cache/getPjlc.jsmeb",{}).then((function(e){if(e&&e.result)return t.$store.dispatch("SETPJLC",e.result),e.result}))},getKsty:function(){var t=this;return this.$store.state.ksty.length>0?h.a.resolve(this.$store.state.ksty):this.$http("cache/getKsty.jsmeb",{}).then((function(e){if(e&&e.result){var s={},n=!0,r=!1,a=void 0;try{for(var o,h=i()(e.result);!(n=(o=h.next()).done);n=!0){var u=o.value;s[u.key]=u.mc}}catch(t){r=!0,a=t}finally{try{!n&&h.return&&h.return()}finally{if(r)throw a}}return t.$store.dispatch("SETKSTY",s),s}}))}}}},287:function(t,e,s){"use strict";var n=s(285);s.n(n).a},288:function(t,e,s){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nodata"},[e("div",{staticClass:"ndpic"},[e("img",{attrs:{src:this.imgSrc,width:"100%"}})]),this._v(" "),e("p",{staticClass:"f-tac nodatatxt f-fs2"},[this._v(this._s(this.warntxt))])])};n._withStripped=!0;var i={name:"nodata",props:{warntxt:{type:String,default:"暂无数据"}},data:function(){return{imgSrc:"static/image/nodata.png"}}},r=(s(287),s(9)),a=Object(r.a)(i,n,[],!1,null,"210a917b",null);a.options.__file="src/components/nodata.vue";e.a=a.exports},303:function(t,e,s){},321:function(t,e,s){"use strict";var n=s(303);s.n(n).a},342:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("van-search",{attrs:{placeholder:"搜索"},on:{search:t.onSearch},model:{value:t.xm,callback:function(e){t.xm=e},expression:"xm"}}),t._v(" "),t.bjs.length?s("div",[s("van-tabs",{model:{value:t.activeBj,callback:function(e){t.activeBj=e},expression:"activeBj"}},[t._l(t.bjs,(function(t){return s("van-tab",{key:t.bjid,attrs:{title:t.mc,name:t.bjid}})})),t._v(" "),s("div",{staticClass:"content"},[s("van-pull-refresh",{staticClass:"view",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.queryPagingKsxs},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("ul",{staticClass:"list"},t._l(t.list,(function(e){return s("li",[s("div",{staticClass:"teacher-tz"},[s("p",{staticClass:"name"},[t._v(t._s(e.xm)+"("+t._s(e.zkzh)+")")]),t._v(" "),s("p",{staticClass:"tz"},[s("span",[t._v(t._s(t.ksty[e.lb]))]),t._v(" "),s("span",[t._v("考场："+t._s(e.kch))]),t._v(" "),s("span",[t._v("座位："+t._s(e.zwh))])])]),t._v(" "),s("i",{staticClass:"iconfont iconguanbi",on:{click:function(s){t.showDialog=!0,t.delKs=e}}})])})),0)])],1)],1)],2),t._v(" "),s("van-dialog",{attrs:{title:"删除考生","show-cancel-button":""},on:{confirm:t.removeKsxs},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[t._v("\n      确定删除该考生？\n    ")])],1):s("nodata")],1)};n._withStripped=!0;var i=s(284),r=s.n(i),a=s(279),o=s.n(a),h=s(67),u=s.n(h),c=s(280),l=s.n(c),f=s(281),v=s.n(f),g=s(68),d=s(286),p=s(288),m={mixins:[d.a],components:{nodata:p.a},data:function(){return{xm:"",activeBj:"",bjs:[],list:[],loading:!1,finished:!1,refreshing:!1,page:1,pageSize:30,showDialog:!1,delKs:"",testh:"",kmh:""}},computed:v()({},Object(g.b)(["currentKs","ksty"])),activated:function(){this.testh!==this.currentKs.testh&&this.getKs(),this.kmh!==this.currentKs.testh&&this.onRefresh()},watch:{activeBj:function(){this.onRefresh()}},methods:{update:function(){this.onRefresh()},getKs:function(){var t=this;return l()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u()(t.ksty).length){e.next=3;break}return e.next=3,t.getKsty();case 3:return e.abrupt("return",t.$http("ks/getKs.jsmeb",{data:[t.currentKs.testh]}).then((function(e){if(t.testh=t.currentKs.testh,(e=e||{}).result){var s=(e.result.vKsnj||[]).find((function(e){return e.njid+""==t.currentKs.njh+""}))||{};t.bjs=s.vNjbj||[],t.bjs.length&&t.bjs.unshift({bjid:"all",mc:"全部"})}})));case 4:case"end":return e.stop()}}),e,t)})))()},queryPagingKsxs:function(){var t=this;if(this.bjs.length){var e=[{key:"kmh",value:this.currentKs.kmh}];return"all"!==this.activeBj&&e.push({key:"bjh",value:this.activeBj}),this.xm&&e.push({key:"xm",value:this.xm}),this.$http("ks/queryPagingKsxs.jsmeb",{data:[this.currentKs.testh,e,this.page,this.pageSize]}).then((function(e){t.kmh=t.currentKs.kmh,(e=e||{}).result&&(t.refreshing&&(t.list=[],t.refreshing=!1),1===t.page&&(t.list=[]),t.loading=!1,t.list=[].concat(r()(t.list),r()(e.result.data||[])),t.page++,1*t.list.length>=1*e.result.totalCount&&(t.finished=!0))}))}},removeKsxs:function(){var t=this;return this.$http("ks/removeKsxs.jsmeb",{data:[this.currentKs.testh,this.delKs.xsid]}).then((function(e){(e=e||{}).result&&(t.list=t.list.filter((function(e){return e.xsid!==t.delKs.xsid})))}))},onRefresh:function(){this.finished=!1,this.loading=!0,this.page=1,this.list=[],this.queryPagingKsxs()},onSearch:function(){this.onRefresh()}}},b=(s(321),s(9)),j=Object(b.a)(m,n,[],!1,null,"1540ab3e",null);j.options.__file="src/views/testDetail/ckmd.vue";e.default=j.exports}}]);
//# sourceMappingURL=ckmd.js.map?v=0.18796360809065904